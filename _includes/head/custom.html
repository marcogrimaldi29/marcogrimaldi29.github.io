<!-- Custom head includes -->

<!-- Custom Favicons -->
<link rel="icon" type="image/x-icon" href="{{ '/assets/images/favicon.ico' | relative_url }}">
<link rel="icon" type="image/png" sizes="16x16" href="{{ '/assets/images/favicon-16x16.png' | relative_url }}">
<link rel="icon" type="image/png" sizes="32x32" href="{{ '/assets/images/favicon-32x32.png' | relative_url }}">
<link rel="icon" type="image/png" sizes="48x48" href="{{ '/assets/images/favicon-48x48.png' | relative_url }}">
<link rel="icon" type="image/png" sizes="64x64" href="{{ '/assets/images/favicon-64x64.png' | relative_url }}">
<link rel="icon" type="image/png" sizes="128x128" href="{{ '/assets/images/favicon-128x128.png' | relative_url }}">
<link rel="apple-touch-icon" sizes="180x180" href="{{ '/assets/images/favicon-180x180.png' | relative_url }}">
<link rel="icon" type="image/png" sizes="192x192" href="{{ '/assets/images/favicon-192x192.png' | relative_url }}">
<link rel="icon" type="image/png" sizes="256x256" href="{{ '/assets/images/favicon-256x256.png' | relative_url }}">
<link rel="icon" type="image/png" sizes="512x512" href="{{ '/assets/images/favicon-512x512.png' | relative_url }}">

<!-- masthead for sticky and shrink effect for top bar -->

<style>
  .masthead {
    position: sticky;
    top: 0;
    z-index: 1000;
    background: inherit;
    border-bottom: 1px solid rgba(0, 0, 0, 0.08); /* subtle divider line */
    transition: padding 0.22s ease, opacity 0.3s ease, border-color 0.3s ease;
    opacity: 0.95;
  }

  .masthead.shrink {
    padding: 0.35rem 1rem;
    opacity: 1;
    border-bottom: 1px solid rgba(0, 0, 0, 0.12); /* a bit stronger when shrunk */
  }

  /* Always reserve space equal to the max masthead height */
  body.has-sticky-header #main {
    padding-top: var(--masthead-max-height, 5rem);
    transition: padding-top 0.3s ease;
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const masthead = document.querySelector(".masthead");
    const main = document.querySelector("#main");
    if (!masthead || !main) return;

    // Measure masthead's initial (expanded) height
    const maxHeight = masthead.offsetHeight;
    document.body.classList.add("has-sticky-header");
    document.body.style.setProperty("--masthead-max-height", maxHeight + "px");

    // shrink on scroll
    function onScroll() {
      if (window.scrollY > 20) {
        masthead.classList.add("shrink");
      } else {
        masthead.classList.remove("shrink");
      }
    }
    document.addEventListener("scroll", onScroll, { passive: true });
    onScroll();

    // adjust if resized
    window.addEventListener("resize", () => {
      const newHeight = masthead.offsetHeight;
      document.body.style.setProperty("--masthead-max-height", newHeight + "px");
    });
  });
</script>

<!-- External links in new tabs -->
<script>
(function() {
  document.addEventListener("DOMContentLoaded", function() {
    const currentHost = window.location.hostname;
    document.querySelectorAll("a[href]").forEach(link => {
      if (link.hostname && link.hostname !== currentHost) {
        link.setAttribute("target", "_blank");
        link.setAttribute("rel", "noopener noreferrer");
      }
    });
  });
})();
</script>

