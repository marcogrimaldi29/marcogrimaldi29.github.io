{% comment %}
  - Keeps external links opening in a new tab
  - Restores Minimal Mistakes main.js for TOC scrollspy and other features
{% endcomment %}

<script>
  document.addEventListener("DOMContentLoaded", function() {
    const currentHost = window.location.hostname;

    document.querySelectorAll("a[href^='http']").forEach(link => {
      if (link.hostname !== currentHost) {
        link.setAttribute("target", "_blank");
        link.setAttribute("rel", "noopener noreferrer");
      }
    });
  });
</script>

<!-- Minimal Mistakes main JavaScript (scrollspy, smooth scroll, etc.) -->
<script src="{{ '/assets/js/main.min.js' | relative_url }}"></script>

{% include_cached scripts/custom.html %}
